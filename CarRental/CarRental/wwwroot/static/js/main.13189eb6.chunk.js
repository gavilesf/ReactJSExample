(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},43:function(e,t,n){e.exports=n(73)},48:function(e,t,n){},49:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(22),c=n.n(i),r=(n(48),n(20)),o=n(9);n(49),n(25);var s=function(e){var t=0===e.cn?"rowDark":"rowClear";return e.item?l.a.createElement("tr",{className:t},l.a.createElement("td",null,e.item.name),l.a.createElement("td",null,e.item.lastName),l.a.createElement("td",null,e.item.phoneNumber),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.onEdit(e.item.id)}},"Edit"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.onDelete(e.item.id)}},"Delete"))):null},u=n(14),m=n(1),p=n.n(m),d=n(11),E=n(12),h=n(15),f=n(13),v=n(16),b=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps: "+JSON.stringify(e)+" "+this.props.operation),this.refs.name.value=e.item.name,this.refs.lastName.value=e.item.lastName,this.refs.phoneNumber.value=e.item.phoneNumber}},{key:"render",value:function(){var e=this;return this.props.item?l.a.createElement("div",{className:"clientCard"},l.a.createElement("input",{type:"text",ref:"name",defaultValue:this.props.item.name,placeholder:"Name"}),l.a.createElement("input",{type:"text",ref:"lastName",defaultValue:this.props.item.lastName,placeholder:"Last Name"}),l.a.createElement("input",{type:"text",ref:"phoneNumber",defaultValue:this.props.item.phoneNumber,placeholder:"Phone Number"}),l.a.createElement("button",{onClick:function(){e.props.saveClient({id:e.props.item.id,name:e.refs.name.value,lastName:e.refs.lastName.value,phoneNumber:e.refs.phoneNumber.value},e.props.operation)}},"Save")):null}}]),t}(a.Component);var y=Object(u.b)(function(e,t){return console.log("connect state",e),console.log("connect props",t),{clients:e.clients,editClient:e.editClient}})(function(e){var t="";return e.clients?l.a.createElement("div",{className:"App"},l.a.createElement("button",{onClick:function(){e.dispatch({type:"GET_CLIENT",data:{name:"",lastName:"",phoneNumber:"",operation:"CREATE"}})}},"Create Client"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Phone Number"),l.a.createElement("th",null,"Actions")),e.clients.map(function(e,t){return l.a.createElement(s,{item:e,key:e.id,cn:t%2,onEdit:n,onDelete:a})}))),null!=e.editClient&&l.a.createElement(b,{item:e.editClient,operation:e.editClient.operation,saveClient:function(n,a){console.log("saveClient",n,a),"UPDATE"===a&&p.a.put(t+"api/Clients/"+n.id,n).then(function(n){e.dispatch(function(e){p.a.get(t+"api/Clients/").then(function(t){e({type:"GET_CLIENTS",data:t.data}),e({type:"RESET_CLIENT"})})})}).catch(function(e){}),"CREATE"===a&&p.a.post(t+"api/Clients/",n).then(function(n){e.dispatch(function(e){p.a.get(t+"api/Clients/").then(function(t){e({type:"GET_CLIENTS",data:t.data}),e({type:"RESET_CLIENT"})})})}).catch(function(e){})}})):(e.dispatch(function(e){p.a.get(t+"api/Clients/").then(function(t){e({type:"GET_CLIENTS",data:t.data})})}),null);function n(n){e.dispatch(function(e){p.a.get(t+"api/Clients/"+n).then(function(t){t.data.operation="UPDATE",e({type:"GET_CLIENT",data:t.data})})})}function a(n){e.dispatch(function(e){p.a.delete(t+"api/Clients/"+n).then(function(n){p.a.get(t+"api/Clients/").then(function(t){e({type:"GET_CLIENTS",data:t.data})})})})}});n(26);var C=function(e){var t=0===e.cn?"rowDark":"rowClear";return e.item?l.a.createElement("tr",{className:t},l.a.createElement("td",null,e.item.brand," | ",e.item.model),l.a.createElement("td",null,e.item.year," | ",e.item.color),l.a.createElement("td",null,e.item.notes),l.a.createElement("td",null,e.item.client?e.item.client.name+" "+e.item.client.lastName:""),l.a.createElement("td",null,e.item.dailyPrice," | ",e.item.rentedDays),l.a.createElement("td",null,l.a.createElement("img",{src:e.item.imageUrl})),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.onEdit(e.item.id)}},"Edit"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.onDelete(e.item.id)}},"Delete"))):null},N=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps: "+JSON.stringify(e)+" "+this.props.operation),this.refs.brand.value=e.item.brand,this.refs.model.value=e.item.model,this.refs.year.value=e.item.year,this.refs.color.value=e.item.color,this.refs.notes.value=e.item.notes,this.refs.clientId.value=e.item.clientId,this.refs.dailyPrice.value=e.item.dailyPrice,this.refs.rentedDays.value=e.item.rentedDays}},{key:"render",value:function(){var e=this;return this.props.item&&this.props.clients?(console.log(this.props.clients),l.a.createElement("div",{className:"vehicleCard"},l.a.createElement("input",{type:"text",ref:"brand",defaultValue:this.props.item.brand,placeholder:"Brand"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"text",ref:"model",defaultValue:this.props.item.model,placeholder:"Model"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"number",ref:"year",defaultValue:this.props.item.year,placeholder:"Year"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"text",ref:"color",defaultValue:this.props.item.color,placeholder:"Color"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("textarea",{ref:"notes",defaultValue:this.props.item.notes,placeholder:"Notes",cols:"40",rows:"10"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("select",{ref:"clientId",onChange:function(t){console.log(e.refs.clientId.value)},defaultValue:this.props.item.clientId?this.props.item.clientId.id:-1},l.a.createElement("option",{value:"-1"},"Select One..."),this.props.clients.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name+" "+e.lastName)})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{ref:"dailyPrice",defaultValue:this.props.item.dailyPrice,placeholder:"dailyPrice"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{ref:"rentedDays",defaultValue:this.props.item.rentedDays,placeholder:"rentedDays"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){e.props.saveVehicle({id:e.props.item.id,brand:e.refs.brand.value,model:e.refs.model.value,year:e.refs.year.value,color:e.refs.color.value,notes:e.refs.notes.value,clientId:e.refs.clientId.value,dailyPrice:e.refs.dailyPrice.value,rentedDays:e.refs.rentedDays.value},e.props.operation)}},"Save"))):null}}]),t}(a.Component);var T=Object(u.b)(function(e,t){return console.log("connect state",e),console.log("connect props",t),{vehicles:e.vehicles,editVehicle:e.editVehicle,clients:e.clients}})(function(e){var t="";return e.vehicles?e.clients?l.a.createElement("div",{className:"App"},l.a.createElement("button",{onClick:function(){e.dispatch({type:"GET_VEHICLE",data:{brand:"",model:"",year:"",color:"",notes:"",clientId:"",dailyPrice:"",rentedDays:"",operation:"CREATE"}})}},"Create Vehicle"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Brand / Model"),l.a.createElement("th",null,"Year / Color"),l.a.createElement("th",null,"Notes"),l.a.createElement("th",null,"Client"),l.a.createElement("th",null,"Daily Price / Rented Days"),l.a.createElement("th",null,"Image"),l.a.createElement("th",null,"Actions")),e.vehicles.map(function(e,t){return l.a.createElement(C,{item:e,key:e.id,cn:t%2,onEdit:n,onDelete:a})}))),null!=e.editVehicle&&l.a.createElement(N,{item:e.editVehicle,operation:e.editVehicle.operation,saveVehicle:function(n,a){console.log("saveVehicle",n,a),"UPDATE"===a&&p.a.put(t+"api/Vehicles/"+n.id,n).then(function(n){e.dispatch(function(e){p.a.get(t+"api/Vehicles/").then(function(t){e({type:"GET_VEHICLES",data:t.data}),e({type:"RESET_VEHICLE"})})})}).catch(function(e){}),"CREATE"===a&&p.a.post(t+"api/Vehicles/",n).then(function(n){e.dispatch(function(e){p.a.get(t+"api/Vehicles/").then(function(t){e({type:"GET_VEHICLES",data:t.data}),e({type:"RESET_VEHICLE"})})})}).catch(function(e){})},clients:e.clients})):(e.dispatch(function(e){p.a.get(t+"api/Clients/").then(function(t){e({type:"GET_CLIENTS",data:t.data})})}),null):(e.dispatch(function(e){p.a.get(t+"api/Vehicles/").then(function(t){e({type:"GET_VEHICLES",data:t.data})})}),null);function n(n){e.dispatch(function(e){p.a.get(t+"api/Vehicles/"+n).then(function(t){t.data.operation="UPDATE",e({type:"GET_VEHICLE",data:t.data})})})}function a(n){e.dispatch(function(e){p.a.delete(t+"api/Vehicles/"+n).then(function(n){p.a.get(t+"api/Vehicles/").then(function(t){e({type:"GET_VEHICLES",data:t.data})})})})}}),V=(n(71),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(r.b,{className:"nav-link",to:"clients"}," Clients")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(r.b,{className:"nav-link",to:"vehicles"}," Vehicles"))))}}]),t}(a.Component));var g=function(){return l.a.createElement("div",null,l.a.createElement(r.a,null,l.a.createElement(V,null),l.a.createElement("div",null,l.a.createElement(o.a,{exact:!0,path:"/vehicles",component:T}),l.a.createElement(o.a,{exact:!0,path:"/clients",component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(10),O=n(19),j=n(41),L=n(42),k={};var D=Object(j.createLogger)({collapsed:!0}),_=Object(O.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return"GET_CLIENTS"===t.type?Object(I.a)({},e,{clients:t.data}):"GET_CLIENT"===t.type?Object(I.a)({},e,{editClient:t.data}):"RESET_CLIENT"===t.type?Object(I.a)({},e,{editClient:null}):"GET_VEHICLES"===t.type?Object(I.a)({},e,{vehicles:t.data}):"GET_VEHICLE"===t.type?Object(I.a)({},e,{editVehicle:t.data}):"RESET_VEHICLE"===t.type?Object(I.a)({},e,{editVehicle:null}):e},Object(O.a)(L.a,D));c.a.render(l.a.createElement(u.a,{store:_},l.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.13189eb6.chunk.js.map